if [ "$UID" != 0 ]; then
  # This is zshenv but it's useful to have it bash-compatible (so it can be
  # sourced from .xsession, for example).
  if [ -n "$BASH_VERSION" ]; then
    export SVCONFIGDIR=`dirname $(dirname ${BASH_ARGV[0]})`
  else
    export SVCONFIGDIR="${0:h:h}"
  fi

  SVCONFIGPATH=$SVCONFIGDIR/bin
  SVCONFIGFPATH=$SVCONFIGDIR/zsh/functions

  [[ $PATH = *$SVCONFIGPATH* ]] || PATH=$SVCONFIGPATH:$PATH
  [[ $FPATH = *$SVCONFIGFPATH* ]] || FPATH=$SVCONFIGFPATH:$FPATH
  [[ $PATH = *$HOME/bin* ]] || PATH=$HOME/bin:$PATH

  export INPUTRC="$SVCONFIGDIR/inputrc"
  export SCREENRC="$SVCONFIGDIR/screenrc"

  function set_editor {
    if [ -n "$DISPLAY" ]; then
      export EDITOR='gvim -f'
    else
      export EDITOR='vi'
    fi
    export VISUAL="$EDITOR"
  }
  set_editor
fi
